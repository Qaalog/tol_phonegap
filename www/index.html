<!DOCTYPE html>

<html ng-strict-di>
<head>
    <meta http-equiv="Content-Security-Policy"
          content="default-src * data: cdvfile: gap:; img-src * data:; media-src * blob:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1.0001, minimum-scale=1.0001, maximum-scale=1.0001, user-scalable=no"/>
    <meta name="theme-color" content="#2d872d">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta charset="utf-8"/>

    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" type="text/css" href="css/colors.css">

    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/lib/angular.js"></script>
    <!--        <script type="text/javascript" src="js/lib/react.js"></script>
            <script type="text/javascript" src="js/lib/react-dom.js"></script>
            <script type="text/javascript" src="js/lib/browser.js"></script>-->

    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/lib/BrowsTree.js"></script>
    <script type="text/javascript" src="js/lib/openfb.js"></script>
    <script type="text/javascript" src="js/lib/elRepeat.js"></script>
    <script type="text/javascript" src="js/lib/Itera.js"></script>

    <!-- Babel -->
    <!--<script type="text/babel" src="js/babel/feed-babel.js"></script>-->

    <!-- Config -->
    <script type="text/javascript" src="js/config/config.js"></script>

    <!-- Controllers -->
    <script type="text/javascript" src="js/controller/main.js"></script>
    <script type="text/javascript" src="js/controller/login.js"></script>
    <script type="text/javascript" src="js/controller/facebookLink.js"></script>
    <script type="text/javascript" src="js/controller/menu.js"></script>
    <script type="text/javascript" src="js/controller/catalog.js"></script>
    <script type="text/javascript" src="js/controller/feed.js"></script>
    <script type="text/javascript" src="js/controller/post.js"></script>
    <script type="text/javascript" src="js/controller/profile.js"></script>
    <script type="text/javascript" src="js/controller/changePassword.js"></script>
    <script type="text/javascript" src="js/controller/searchPage.js"></script>
    <script type="text/javascript" src="js/controller/ranking.js"></script>
    <script type="text/javascript" src="js/controller/fullList.js"></script>
    <script type="text/javascript" src="js/controller/givePoints.js"></script>
    <script type="text/javascript" src="js/controller/chart.js"></script>
    <script type="text/javascript" src="js/controller/sql.js"></script>
    <script type="text/javascript" src="js/controller/postDetails.js"></script>
    <script type="text/javascript" src="js/controller/notification.js"></script>
    <script type="text/javascript" src="js/controller/cut.js"></script>
    <script type="text/javascript" src="js/controller/termsPrivacy.js"></script>


    <!-- Directives -->
    <script type="text/javascript" src="js/directive/ngSection.js"></script>
    <script type="text/javascript" src="js/directive/touchMethods.js"></script>
    <script type="text/javascript" src="js/directive/ngRender.js"></script>
    <script type="text/javascript" src="js/directive/ngCntHeight.js"></script>
    <script type="text/javascript" src="js/directive/ngImageLoader.js"></script>
    <script type="text/javascript" src="js/directive/ngIframeLoader.js"></script>

    <!-- Services -->
    <script type="text/javascript" src="js/service/analytics.js"></script>
    <script type="text/javascript" src="js/service/page.js"></script>
    <script type="text/javascript" src="js/service/network.js"></script>
    <script type="text/javascript" src="js/service/device.js"></script>
    <script type="text/javascript" src="js/service/httpAdapter.js"></script>
    <script type="text/javascript" src="js/service/search.js"></script>
    <script type="text/javascript" src="js/service/menu.js"></script>
    <script type="text/javascript" src="js/service/pager.js"></script>
    <script type="text/javascript" src="js/service/pagerItera.js"></script>
    <script type="text/javascript" src="js/service/facebook.js"></script>
    <script type="text/javascript" src="js/service/dialog.js"></script>
    <script type="text/javascript" src="js/service/header.js"></script>
    <script type="text/javascript" src="js/service/feed.js"></script>
    <script type="text/javascript" src="js/service/userService.js"></script>
    <script type="text/javascript" src="js/service/imageUpload.js"></script>
    <script type="text/javascript" src="js/service/pager.js"></script>
    <script type="text/javascript" src="js/service/lightbox.js"></script>
    <script type="text/javascript" src="js/service/notification.js"></script>
    <script type="text/javascript" src="js/service/utils.js"></script>
    <script type="text/javascript" src="js/filters/listFilters.js"></script>

    <title>Team Out Loud</title>
</head>
<body ng-class="{'ios':isIOS(),'big-screen':isBigScreen()}" ng-controller="main">

<header class="header" ng-hide="headerIsHidden">
    <div id="monitor"></div>
    <h1 class="title text-center" ng-class="{'ios':isIOS()}">{{title}}</h1>
    <div class="search-wrap search-product" ng-class="{'small': smallSearch}" ng-show="canSearch">
        <span class="search-icon t-icon_search"></span>
        <input type="text"
               class="search"
               id="search-input"
               placeholder="{{'People at ' + getHotelName()}}"
               ng-model="searchModel.value"
               ng-model-options="{ debounce: 500 }"
               ng-change="onSearchChange(searchModel.value)"
               ng-focus="onSearchInputFocus()"
               ng-blur="onSearchInputBlur()"
               ng-keypress="onSearch($event)"
        />
    </div>

    <div class="search-wrap search_chart" ng-class="{'small': smallSearch}" ng-show="canSearchChart">
        <span class="search-icon t-icon_search"></span>
        <input type="text"
               class="search"
               id="search-chart-input"
               placeholder="Search"
               ng-model="chartSearchModel"
               ng-change="onSearchChartChange(chartSearchModel)"
               ng-keypress="onSearchChart($event)"
        />
    </div>

    <div class="option org-icon"
         ng-show="canChart"
         ng-fast-touch="goToChart()"
         ng-class="{hidden: chartActive}"><span class="icon t-icon_category_list"></span></div>
    <div class="option cancel" ng-show="canCancel" ng-fast-touch="onCancel()">Cancel</div>
    <div class="option post-now" ng-class="{disabled: !isPostEnabled}" ng-show="canPost" ng-fast-touch="postNow()">Post now
    </div>
    <div class="option save" ng-class="{disabled: !isSaveEnabled}" ng-show="canSave" ng-fast-touch="save()">Save</div>
    <div class="option back" ng-fast-touch="onBack()" ng-show="canBack"><span class="t-icon_arrow_left"></span>Back
    </div>
    <div class="option small-back" ng-fast-touch="onBack()" ng-show="canSmallBack"><span
            class="t-icon_arrow_left"></span></div>
    <div class="option doit" ng-show="canDoIt" ng-fast-touch="onDoIt()" ng-class="{disabled: !isDoItEnabled}">Do it!
    </div>

    <!-- User Profile Header -->
    <div class="profile-head-wrap" ng-show="profileHeaderShow">
        <div class="profile-header">
            <div class="profile-user">
                <div class="image-wrap" id="avatar_wrap" ng-fast-touch="changeAvatar(product)">
                    <div class="img-middle-wrap">
                        <div class="img-inner-wrap">
                            <i ng-show="showUserPhotoNeededMarker" class="icon-notify"></i>
                            <img class="img"
                                 id="avatar_img"
                                 ng-src="{{(product.image_url) ? imgPrefix + product.image_url + imgSuffix : 'img/default-staff.png'}}">
                        </div>
                    </div>
                </div>
                <div class="profile-title">
                    <div class="user-name">{{product.name}}</div>
                    <div class="user-position">{{product.header_name}}</div>
                </div>
            </div>
            <div class="reco-btn" ng-hide="userProductId === profileProductId"
                 ng-fast-touch="recognizeButtonClick('profile')">
                <div class="inner">
                    <span class="t-icon_point"></span>
                    Recognize
                </div>
            </div>

            <div class="tab-header">
                <div class="tab-title"
                     ng-fast-touch="onProfileTabTouch(tab)"
                     ng-class="{active: tab.isActive}"
                     style="{{'width: '+ (100 / profileTabs.length) + '%;'}}"
                     ng-repeat="tab in profileTabs">
                    {{tab.title}}
                </div>
            </div>
        </div>
    </div>

    <!-- Ranking Tab Header -->
    <div class="ranking-head-wrap" ng-show="rankingHeaderShow">
        <div class="ranking-header">
            <div class="tab-header">
                <div class="tab-title"
                     ng-repeat="tab in rankingTabs"
                     ng-fast-touch="onRankingTabTouch(tab)"
                     style="{{'width: '+ (100 / rankingTabs.length) + '%;'}}"
                     ng-class="{active: tab.isActive}"
                >{{tab.title.toUpperCase()}}
                </div>
            </div>
        </div>
    </div>    
</header>

<!-- Loader -->
<div class="loader full-cover" id="loader" ng-show="isLoaderVisiable" ng-hold-touch="hideLoader()"></div>
<!-- FeedLoader -->
<div class="feed-loader" id="feed-loader" ng-show="isFeedLoaderVisible"><div class="spinner"></div></div>

<!-- No internet connection-->
<div class="no-connection fixed-screen"
     id="no_connection"
     ng-show="noConnection"
     ng-hold-touch="hideNoConnection()"
     ng-fast-touch="retry()">
    <div class="connection-info text-center">
        <span class="connection-icon t-icon_noconnect"></span>
        <div class="connection-text">No connection</div>
        <div class="refresh-connect">
            <span class="t-icon_refresh"></span>Try again
        </div>
    </div>
</div>

<div ng-section="partial/login.html" ctrl-name="login" ng-show="activePage['login']" class="page_section"></div>
<div ng-section="partial/termsPrivacy.html" ctrl-name="termsPrivacy" ng-show="activePage['termsPrivacy']" class="page_section"></div>
<div ng-section="partial/facebookLink.html" ctrl-name="facebookLink" ng-show="activePage['facebookLink']"
     class="page_section"></div>
<!-- Statusbar -->
<div ng-hide="isStatusbarHidden" ng-class="{'statusbar':isIOS()}"></div>
<div class="content-wrapper" ng-style="scrollType">

    <div ng-section="partial/menu.html" ctrl-name="menu" ng-show="activePage['menu']" class="page_section"></div>
    <div ng-section="partial/catalog.html" ctrl-name="catalog" ng-show="activePage['catalog']"
         class="page_section"></div>
    <div ng-section="partial/feed.html" ctrl-name="feed" ng-show="activePage['feed']" class="page_section"></div>
    <div ng-section="partial/post.html" ctrl-name="post" ng-show="activePage['post']" class="page_section"></div>
    <div ng-section="partial/profile.html" ctrl-name="profile" ng-show="activePage['profile']"
         class="page_section"></div>
    <div ng-section="partial/changePassword.html" ctrl-name="changePassword" ng-show="activePage['changePassword']"
         class="page_section"></div>
    <div ng-section="partial/searchPage.html" ctrl-name="searchPage" ng-show="activePage['searchPage']"
         class="page_section"></div>
    <div ng-section="partial/ranking.html" ctrl-name="ranking" ng-show="activePage['ranking']"
         class="page_section"></div>
    <div ng-section="partial/fullList.html" ctrl-name="fullList" ng-show="activePage['fullList']"
         class="page_section"></div>
    <div ng-section="partial/givePoints.html" ctrl-name="givePoints" ng-show="activePage['givePoints']"
         class="page_section"></div>
    <div ng-section="partial/chart.html" ctrl-name="chart" ng-show="activePage['chart']" class="page_section"></div>
    <div ng-section="partial/sql.html" ctrl-name="sql" ng-show="activePage['sql']" class="page_section"></div>
    <div ng-section="partial/postDetails.html" ctrl-name="postDetails" ng-show="activePage['postDetails']"
         class="page_section"></div>
    <div ng-section="partial/notification.html" ctrl-name="notification" ng-show="activePage['notification']"
         class="page_section"></div>
    <div ng-section="partial/cut.html" ctrl-name="cut" ng-show="activePage['cut']" class="page_section"></div>
</div>

<!-- No Results -->
<div class="no-results fixed-screen" id="no_result_wrap" ng-show="isNoResultShow">
    <h1 class="result-title text-center">{{noResultText}}</h1>
</div>

<!-- Facebook Share Post -->
<div class="fb-share-popup popup-block fixed-screen" ng-class="{'show': isShareShow}"
     ng-fast-touch="closeShareMenu($event)">
    <div class="white-box animate-fb-share">
        <h1 class="white-box-title text-center" id="test_click">Share to Facebook</h1>
        <!--          <div class="user-posted this-user">
                    <div class="image-wrap" ng-fast-touch="showPictureInLightBox(shareItem.from_product_image)">
                      <div class="img-middle-wrap">
                        <div class="img-inner-wrap">
                          <img class="img"
                               ng-src="{{(shareItem.from_product_image) ? imgPrefix + shareItem.from_product_image + imgSuffix : 'img/default-staff.png'}}">
                        </div>
                      </div>
                    </div>
                    <div class="user-title">
                      <div class="feed-title"><span class="user-name">{{shareItem.from_product_name}}</span> published a new post</div>
                      <div class="time-published">{{getPostAge(shareItem)}} - {{shareItem.hotel}}</div>
                    </div>
                  </div>-->
        <div class="post-box">
            <!--            <h2 class="post-title" ng-bind-html="getHtml(shareItem.message)"></h2>-->
            <textarea ng-model="fbMessage" id="fb_message_layout" class="write-post-text"
                      placeholder="Type your message here..."></textarea>
            <div class="post-img-wrap">
                <canvas style="width: 100%" width="708" height="400" id="canvas"></canvas>
            </div>
            <div id="fb-preview-desc" style="margin-top: 0.5em;">
                <h1 style=" font-family: Georgia, 'lucida grande',tahoma,verdana,arial,sans-serif;">
                    {{getHotelName()}}</h1>
                <div style="font-size: 1em; font-family: helvetica, arial, sans-serif;">
                    Increase your employee engagement.
                </div>
                <div style="margin-top: .7em; font-size: 1.1em; color: #999; font-family: helvetica, arial, sans-serif;">
                    WWW.TEAMOUTLOUD.COM
                </div>
            </div>
        </div>
        <button class="light-btn text-center" ng-fast-touch="shareNow(shareItem, fbMessage)">share now</button>
    </div>
</div>

<!-- iOS hack (textarea focus)-->
<textarea id="fb_message" ng-model="fbMessage" class="fake-textarea" placeholder="Type your message here..."></textarea>

<!-- Image Lightbox -->
<div class="lightbox-wrap fixed-screen image-lightbox"
     ng-swipe="true"
     ng-on-left="swipe('prev')"
     ng-on-right="swipe('next')"
     ng-fast-touch="closeLightBox($event)"
     ng-show="isLightBoxShow">
    <!--     <span class="close" ng-fast-touch="closeLightBox($event)" ng-show="isCloseBtnShow"><span class="icon t-icon_close"></span>Close</span> -->
</div>

<!-- Popup Messages -->
<!-- Posted -->
<div class="popup-message fixed-screen" ng-class="{show: isInfoShow}">
    <div class="white-box text-center">
        <h1 class="white-box-title">{{dialog.title}}</h1>
        <div class="white-box-desc">
            <div class="white-box-content" ng-bind-html="dialog.message"></div>
        </div>
        <button ng-fast-touch="positiveBtnTouch()" class="light-btn text-center">{{dialog.positiveBtn}}</button>
    </div>
</div>

<!-- GIVE POINTS MENU -->
<div class="popup-message fixed-screen"
     ng-fast-touch="closePointsMenu($event)"
     ng-class="{show: isPointsMenuShow}">
    <div class="white-box">
        <button class="light-btn text-center"
                ng-show="menuPostType === 'normal'"
                ng-fast-touch="dialogAction('quote')">
            <span class="t-icon_quote inner-btn">Quote</span>
        </button>
        <button class="light-btn text-center"
                ng-show="menuPostType === 'recognition'"
                ng-fast-touch="dialogAction('reinforce')">
            <span class="t-icon_refresh inner-btn">Reinforce</span>
        </button>
<!--
        <button class="light-btn text-center" ng-fast-touch="dialogAction('new_recognition')">
            <span class="t-icon_point inner-btn">New Recognition</span>
        </button>
-->
        <button class="light-btn delete-btn text-center" ng-fast-touch="closePointsMenu($event, true)">
            <strong class="inner-btn">Cancel</strong>
        </button>
    </div>
</div>
<!-- Quote External post(TripAdvisor, Bookings etc.) MENU -->
<div class="popup-message fixed-screen"
     ng-fast-touch="closeExternalMenu($event)"
     ng-class="{show: isExternalMenuShow}">
    <div class="white-box">
        <button class="light-btn text-center"
                ng-show="menuPostType === 'normal'"
                ng-fast-touch="dialogAction('quote_external')">
            <span class="t-icon_quote inner-btn">Quote</span>
        </button>
        <button class="light-btn delete-btn text-center" ng-fast-touch="closeExternalMenu($event, true)">
            <strong class="inner-btn">Cancel</strong>
        </button>

    </div>
</div>

<!-- Manage Post -->
<div class="popup-message fixed-screen"
     ng-fast-touch="closeUserMenu($event)"
     ng-class="{show: isUserMenuShow}">
    <div class="white-box">
        <button class="light-btn edit-btn text-center" ng-fast-touch="dialogAction('edit_post')">
            <span class="t-icon_edit inner-btn">Edit your post</span>
        </button>
        <button class="light-btn delete-btn text-center"  ng-hide="hideRegenerateThumbButton" ng-fast-touch="dialogAction('regenerate_thumb')">
            <span class="t-icon_refresh inner-btn">Reload image</span>
        </button>
        <button class="light-btn delete-btn text-center" ng-hide="hideDeleteButton" ng-fast-touch="dialogAction('delete_post')">
            <span class="t-icon_delete inner-btn">Delete your post</span>
        </button>
        <button class="light-btn delete-btn text-center" ng-fast-touch="closeUserMenu($event, true)">
            <strong class="inner-btn">Cancel</strong>
        </button>

    </div>
</div>

<!-- Upload Photo from -->
<div class="popup-message fixed-screen"
     ng-fast-touch="closePhotoMenu($event)"
     ng-class="{show: isPhotoMenuShow}">
    <div class="white-box">
        <button class="light-btn camera-btn text-center" ng-fast-touch="dialogAction('take_photo')">
            <span class="t-icon_photo inner-btn">Take photo</span>
        </button>
        <button class="light-btn gallery-btn text-center" ng-fast-touch="dialogAction('select_from_gallery')">
            <span class="t-icon_gallery inner-btn">Select from Gallery</span>
        </button>
    </div>
</div>

<!-- Delete Post -->
<div class="popup-message fixed-screen" ng-class="{show: isQuestionShow}">
    <div class="white-box text-center">
        <h1 class="white-box-title">{{dialog.title}}</h1>
        <div class="white-box-desc" ng-bind-html="dialog.message"></div>
        <div class="two-light-btns">
            <button ng-fast-touch="negativeBtnTouch()" class="light-btn left-btn text-center">{{dialog.negativeBtn}}
            </button>
            <button ng-fast-touch="positiveBtnTouch()" class="light-btn right-btn text-center">{{dialog.positiveBtn}}
            </button>
        </div>
    </div>
</div>

<!-- Unlink FB -->
<div class="popup-message fixed-screen">
    <div class="white-box text-center">
        <h1 class="white-box-title">Unlink FB account?</h1>
        <div class="white-box-desc">Your Facebook account will be<br>unlinked. Are you sure?</div>
        <div class="two-light-btns">
            <button class="light-btn left-btn text-center">no</button>
            <button class="light-btn right-btn text-center">yes</button>
        </div>
    </div>
</div>

<!-- Hints -->
<div class="popup-message fixed-screen hints">
    <div class="white-box text-center">
        <div class="example-btn light-btn text-center">
            <span class="t-icon_category_3 inner-btn">Precision</span>
            <span class="t-icon_clock"></span>
            <span class="t-icon_hand"></span>
        </div>
        <div class="white-box-desc">Press and hold the characteristic value to show explaination what the value means
        </div>
        <button class="light-btn text-center">Got it</button>
    </div>
</div>

<div class="popup-message fixed-screen hints">
    <div class="white-box text-center">
        <div class="light-btn edit-btn text-center">
            <span class="t-icon_category_3 inner-btn">Precision</span>
        </div>
        <div class="white-box-desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
            incididunt
        </div>
        <button class="light-btn text-center">Got it</button>
    </div>
</div>
<!-- Whats in you mind to create post or recognition -->
<div class="popup-message fixed-screen"
     ng-fast-touch="closeMindMenu($event)"
     ng-class="{show: isMindMenuShow}">
    <div class="white-box">
        <button class="light-btn edit-btn text-center" ng-fast-touch="dialogAction('create_post')">
            <span class="t-icon_post inner-btn">Create a post</span>
        </button>
        <button ng-show="canChart" class="light-btn delete-btn text-center" ng-fast-touch="dialogAction('create_recognition')">
            <span class="t-icon_point inner-btn">Recognize</span>
        </button>
        <button class="light-btn delete-btn text-center" ng-fast-touch="closeMindMenu($event, true)">
            <strong class="inner-btn">Cancel</strong>
        </button>
    </div>
</div>
<!-- Toast -->
<div class="toast-message text-center white-box-desc" ng-class="{hide: toast.isHidden}" ng-if="toast.isExist"
     style="display: none" ng-cloak>
    <span class="toast-text">{{toast.text}}</span>
</div>

<!-- Bottom Menu -->
<footer class="footer-menu" ng-show='tabsAvailable' ng-class="{'ios': isIOS()}">
    <div class="version" ng-show="isVersionShow">
        <div>TOL v. {{app.version}}</div>
        <div>Web Service v. {{WSVersion}}</div>
    </div>
    <div class="menu-item"
         ng-class="{'active':activeView['feed']}"
         ng-fast-touch="changeView('feed')">
        <span class="menu-icon t-icon_news"></span>
        <div class="item-text">Feed</div>
    </div>
    <div class="menu-item"
         ng-class="{'active':activeView['notification']}"
         ng-fast-touch="changeView('notification')">
          <span class="menu-icon t-icon_notification has-notific">
            <span class="number-wrap" ng-show="notificationCount">
              <span class="number-notific">{{notificationCount}}</span>
            </span>
          </span>
        <div class="item-text">Notifications</div>
    </div>
    <div class="menu-item"
         ng-class="{'active':activeView['givePoints']}"
         ng-fast-touch="recognizeButtonClick('recobutton')">
         <div class="inner">
            <span class="menu-icon t-icon_point"><div ng-show="main.recognizeList.length>0" class="icon-notify"></div></span>
            <div class="item-text">Recognize</div>
         </div>        
    </div>
    <div class="menu-item"
         ng-class="{'active':activeView['ranking']}"
         ng-fast-touch="changeView('ranking')">
        <span class="menu-icon t-icon_ranling"></span>
        <div class="item-text">Ranking</div>
    </div>
    <div class="menu-item"
         ng-class="{'active':activeView['profile'] && (profileProductId == userProductId)}"
         ng-fast-touch="changeView('profile')">
            <span class="menu-icon t-icon_profile"><div ng-show="!userHasPhoto" class="icon-notify"></div></span>
            <div class="item-text">Profile</div>
    </div>
</footer>
</body>
</html>